# gm-agent vs Claude Code - Gap Analysis

> **Last Updated**: 2026-01-08
> **Purpose**: è®°å½•å½“å‰é¡¹ç›®ä¸ Claude Code çš„å·®è·ï¼Œä½œä¸ºå¼€å‘è·¯çº¿å›¾å‚è€ƒ

---

## ğŸ“Š é¡¹ç›®å®ç°ç°çŠ¶

### âœ… å·²å®Œæˆçš„æ ¸å¿ƒç»„ä»¶ (49ä¸ª Go æ–‡ä»¶)

#### **æ¶æ„å±‚**
- âœ… **Event-Driven Runtime** - åŸºäº Reducer æ¨¡å¼çš„äº‹ä»¶é©±åŠ¨è¿è¡Œæ—¶
- âœ… **FSStore** - æ–‡ä»¶ç³»ç»ŸæŒä¹…åŒ–å­˜å‚¨ (äº‹ä»¶æ—¥å¿— + çŠ¶æ€å¿«ç…§)
- âœ… **Dispatcher** - å‘½ä»¤è°ƒåº¦å™¨
- âœ… **Permission Manager** - å·¥å…·æƒé™ç®¡ç†ç³»ç»Ÿ

#### **LLM é›†æˆ**
- âœ… OpenAI/DeepSeek é€‚é…å™¨
- âœ… Gemini åŸç”Ÿé€‚é…å™¨
- âœ… Provider Factory (å¤šæä¾›å•†åŠ¨æ€åŠ è½½)
- âœ… Circuit Breaker (åŸºç¡€)

#### **å·¥å…·ç³»ç»Ÿ**
- âœ… Tool Registry
- âœ… Policy Gate (allow/ask/deny)
- âœ… å†…ç½®å·¥å…·: `read_file`, `run_shell`, `talk`, `task_complete`

#### **API æœåŠ¡**
- âœ… Gin-based HTTP API
- âœ… Server-Sent Events (SSE) å®æ—¶æµ
- âœ… Session ç®¡ç† (CRUD + Cancel)
- âœ… OpenAPI/Swagger æ–‡æ¡£

#### **å®¢æˆ·ç«¯**
- âœ… `gmcli` - ç‹¬ç«‹ CLI å·¥å…·
- âœ… Bubble Tea TUI
- âœ… REPL äº¤äº’æ¨¡å¼
- âœ… æƒé™ç¡®è®¤ UI

---

## ğŸ”´ æ ¸å¿ƒå·®è·åˆ†æ (Updated: 2026-01-08)

> **é‡è¦å‘ç°**: ç»è¿‡æ·±å…¥å¯¹æ¯” Claude Code çš„å®é™…åŠŸèƒ½ï¼Œæˆ‘å‘ç°ä»¥ä¸‹å…³é”®å·®è·å’Œè®¤çŸ¥æ›´æ–°ã€‚

---

## Claude Code æ ¸å¿ƒå·¥å…·æ¸…å• (å®˜æ–¹ç¡®è®¤)

æ ¹æ® Claude Code å®˜æ–¹æ–‡æ¡£å’Œ claude-code-guide agent çš„åˆ†æï¼š

### **å·²ç¡®è®¤çš„ Claude Code å·¥å…·**
1. **File Operations**: `Read`, `Write`, `Edit`, `NotebookEdit`
2. **Search**: `Glob`, `Grep`
3. **Execution**: `Bash`, `BashOutput`, `KillShell`
4. **Orchestration**: `Task` (sub-agents), `TodoWrite`, `ExitPlanMode`
5. **Information**: `WebSearch`, `WebFetch`, `AskUserQuestion`
6. **Extensibility**: `Skill`, `SlashCommand`

### **Claude Code ç‹¬æœ‰ç‰¹æ€§**
- âœ… **Checkpointing System** - å¯å›æ»šåˆ°ä»»æ„å¯¹è¯çŠ¶æ€
- âœ… **Plan Mode** - åªè¯»åˆ†ææ¨¡å¼ï¼ˆç¦æ­¢ç¼–è¾‘/æ‰§è¡Œï¼‰
- âœ… **Permission Modes** - 4ç§æ¨¡å¼ï¼ˆdefault, plan, acceptEdits, bypassPermissionsï¼‰
- âœ… **Persistent Rules** - åœ¨ `~/.claude/settings.json` ä¸­é¢„æ‰¹å‡†å‘½ä»¤
- âœ… **MCP (Model Context Protocol)** - è¿æ¥å¤–éƒ¨æ•°æ®æºï¼ˆGitHub, Slack, DBï¼‰
- âœ… **Event-Driven Hooks** - PreToolUse/PostToolUse æ‹¦æˆªå™¨
- âœ… **Git-Aware Context** - è‡ªåŠ¨è¯»å– git status, CLAUDE.md

---

## ğŸ”´ é‡æ–°è¯„ä¼°çš„æ ¸å¿ƒå·®è·

### 1. ğŸš¨ **å·¥å…·æœªé›†æˆåˆ° Runtime** (Critical - æ–°å‘ç°)

**é—®é¢˜å‘ç°:**
è™½ç„¶æˆ‘ä»¬å®ç°äº† `write_file`, `edit_file`, `glob`, `grep` å·¥å…·ï¼Œä½†å®ƒä»¬**å°šæœªåœ¨ `cmd/gm/main.go` ä¸­æ³¨å†Œ**ï¼

**å½“å‰ main.go æ³¨å†Œçš„å·¥å…· (ä»…5ä¸ª):**
```go
toolRegistry.Register(tools.ReadFileTool)      // âœ…
toolRegistry.Register(tools.CreateFileTool)    // âœ… (ä½†åŠŸèƒ½ç®€é™‹)
toolRegistry.Register(tools.RunShellTool)      // âœ…
toolRegistry.Register(tools.TalkTool)          // âœ…
toolRegistry.Register(tools.TaskCompleteTool)  // âœ…
```

**ç¼ºå¤±çš„æ–°å·¥å…· (æœªæ³¨å†Œ):**
```go
âŒ tools.WriteFileTool   // å·²å®ç°ä½†æœªæ³¨å†Œ
âŒ tools.EditFileTool    // å·²å®ç°ä½†æœªæ³¨å†Œ
âŒ tools.GlobTool        // å·²å®ç°ä½†æœªæ³¨å†Œ
âŒ tools.GrepTool        // å·²å®ç°ä½†æœªæ³¨å†Œ
```

**å½±å“:**
- Agent **æ— æ³•ä½¿ç”¨**æ–°å®ç°çš„é«˜çº§ç¼–è¾‘å’Œæœç´¢åŠŸèƒ½
- Patch Engine è™½ç„¶å·²å®ç°ï¼Œä½†æ²¡æœ‰å·¥å…·è°ƒç”¨å®ƒ
- å®é™…å¯ç”¨æ€§ä»ç„¶åœç•™åœ¨ Phase 1 ä¹‹å‰çš„æ°´å¹³

**ä¼˜å…ˆçº§:** ğŸ”¥ğŸ”¥ğŸ”¥ **P0 - ç«‹å³ä¿®å¤**

---

### 2. ğŸš¨ **Checkpointing System** (Claude Code æ ¸å¿ƒä¼˜åŠ¿)

**Claude Code èƒ½åŠ›:**
- æ¯ä¸ªç”¨æˆ· prompt è‡ªåŠ¨åˆ›å»º checkpoint
- `/rewind` å‘½ä»¤å›æ»šåˆ°ä»»æ„çŠ¶æ€
- æ”¯æŒå›æ»šï¼šä»£ç å˜æ›´ã€å¯¹è¯å†å²ã€æˆ–ä¸¤è€…
- Session-level recovery

**gm-agent ç°çŠ¶:**
- âœ… Event-sourcing æ¶æ„ï¼ˆäº‹ä»¶å¯å›æ”¾ï¼‰
- âœ… State snapshots å’Œ checkpoints
- âŒ **æ²¡æœ‰ç”¨æˆ·å±‚é¢çš„ /rewind å‘½ä»¤**
- âŒ **æ— æ³•é€šè¿‡ CLI å›æ»šåˆ°å†å²çŠ¶æ€**
- âŒ Checkpoints æ˜¯å†…éƒ¨æœºåˆ¶ï¼Œç”¨æˆ·ä¸å¯è§

**ä¸šåŠ¡å½±å“:**
- ç”¨æˆ·æ— æ³•æ’¤é”€ Agent çš„é”™è¯¯æ“ä½œ
- ç¼ºå°‘å¯¹è¯çº§åˆ«çš„"Undo"åŠŸèƒ½
- é™ä½äº†ç”¨æˆ·ä¿¡ä»»åº¦

**ä¼˜å…ˆçº§:** ğŸ”¥ğŸ”¥ **P1 - é‡è¦å¢å¼º**

---

### 3. ğŸš¨ **Plan Mode & Permission Modes** (æ¶æ„å·®è·)

**Claude Code çš„æƒé™æ¨¡å¼:**
1. `default` - æ¯æ¬¡å·¥å…·éƒ½éœ€è¦ç¡®è®¤
2. `plan` - **åªè¯»æ¨¡å¼**ï¼ˆç¦æ­¢ Edit/Bashï¼Œåªå…è®¸ Read/Glob/Grepï¼‰
3. `acceptEdits` - è‡ªåŠ¨æ‰¹å‡†æ–‡ä»¶ç¼–è¾‘ï¼Œä½†æ‹¦æˆª Bash
4. `bypassPermissions` - å…¨éƒ¨è‡ªåŠ¨æ‰¹å‡†ï¼ˆæ²™ç®±ç¯å¢ƒï¼‰

**gm-agent ç°çŠ¶:**
- âœ… Policy Gate æ”¯æŒ allow/ask/deny
- âœ… æŒä¹…åŒ– permission rules
- âŒ **æ²¡æœ‰"åªè¯»æ¨¡å¼"çš„æ¦‚å¿µ**
- âŒ **æ— æ³•åŒºåˆ†ç¼–è¾‘æƒé™å’Œæ‰§è¡Œæƒé™**
- âŒ æƒé™ç²’åº¦è¾ƒç²—ï¼ˆå·¥å…·çº§åˆ«ï¼Œè€Œéæ“ä½œç±»å‹çº§åˆ«ï¼‰

**ä¸šåŠ¡å½±å“:**
- æ— æ³•è®© Agent å…ˆåˆ†æå†æ‰§è¡Œï¼ˆå¼ºåˆ¶ä¸²è¡Œï¼‰
- ç¼ºå°‘ç±»ä¼¼ `EnterPlanMode` çš„å·¥ä½œæµ
- æ— æ³•é’ˆå¯¹ä¸åŒé£é™©çº§åˆ«è®¾ç½®ä¸åŒç­–ç•¥

**ä¼˜å…ˆçº§:** ğŸ”¥ **P1 - æ¶æ„å¢å¼º**

---

### 4. **Task Orchestration & Sub-Agents**

**Claude Code èƒ½åŠ›:**
- `Task` tool è°ƒåº¦ä¸“é—¨çš„ sub-agents
- Explore agent (Haiku) - å¿«é€Ÿä»£ç åº“æ¢ç´¢
- Plan agent - åªè¯»åˆ†æ
- è‡ªå®šä¹‰ agents (`.claude/agents/*.md`)
- Agent é—´æ¶ˆæ¯ä¼ é€’

**gm-agent ç°çŠ¶:**
- ğŸŸ¡ `pkg/agent/` å­˜åœ¨ä½†å¤„äºæ—©æœŸé˜¶æ®µ
- âŒ æ²¡æœ‰ Task tool
- âŒ æ— æ³•å§”æ´¾å­ä»»åŠ¡
- âŒ æ— æ³•ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹åšæ¢ç´¢

**å½±å“å·®è·:**
- æ— æ³•ä¼˜åŒ–æˆæœ¬ï¼ˆæ‰€æœ‰ä»»åŠ¡ç”¨åŒä¸€æ¨¡å‹ï¼‰
- å¤æ‚ä»»åŠ¡ç¼ºå°‘åˆ†æ²»ç­–ç•¥
- Context window å®¹æ˜“çˆ†æ»¡

**ä¼˜å…ˆçº§:** ğŸ”¥ **P1**

---

### 5. **TodoWrite & Progress Tracking**

**Claude Code:**
- `TodoWrite` tool ç®¡ç†ä»»åŠ¡åˆ—è¡¨
- å¤šæ­¥éª¤ä»»åŠ¡è‡ªåŠ¨åˆ†è§£
- å®æ—¶è¿›åº¦å¯è§

**gm-agent:**
- âŒ æ²¡æœ‰ç±»ä¼¼å·¥å…·
- âŒ Agent æ— æ³•è‡ªæˆ‘ç®¡ç†ä»»åŠ¡è¿›åº¦
- âŒ ç”¨æˆ·çœ‹ä¸åˆ° Agent çš„è®¡åˆ’

**å½±å“:**
- å¤æ‚ä»»åŠ¡å®¹æ˜“é—æ¼æ­¥éª¤
- ç”¨æˆ·ä½“éªŒè¾ƒå·®ï¼ˆä¸çŸ¥é“è¿›åº¦ï¼‰

**ä¼˜å…ˆçº§:** ğŸŸ¡ **P2**

---

### 6. **MCP (Model Context Protocol)**

**Claude Code:**
- æ ‡å‡†åŒ–æ¥å£è¿æ¥å¤–éƒ¨æ•°æ®æº
- GitHub MCP, Slack MCP, Database MCP
- åŠ¨æ€å·¥å…·æ³¨å†Œ

**gm-agent:**
- âŒ å®Œå…¨ç¼ºå¤±
- âŒ æ— æ³•è¿æ¥å¤–éƒ¨ç³»ç»Ÿ

**ä¼˜å…ˆçº§:** ğŸŸ¡ **P2 - æœªæ¥æ‰©å±•**

---

### 7. **Git-Aware Context**

**Claude Code:**
- è‡ªåŠ¨è¯»å– `CLAUDE.md` (é¡¹ç›®æŒ‡ä»¤)
- è‡ªåŠ¨æ³¨å…¥ `git status`
- è‡ªåŠ¨è¯»å– commit history

**gm-agent:**
- âŒ æ²¡æœ‰ç‰¹æ®Šçš„ Git é›†æˆ
- âš ï¸ å¯ä»¥é€šè¿‡ `run_shell` æ‰‹åŠ¨æ‰§è¡Œ git å‘½ä»¤

**ä¼˜å…ˆçº§:** ğŸŸ¡ **P2**

---

## ğŸ“Š æ›´æ–°åçš„æˆç†Ÿåº¦å¯¹æ¯”

| ç»´åº¦ | gm-agent (å®é™…å¯ç”¨) | gm-agent (å«æœªæ³¨å†Œå·¥å…·) | Claude Code | å·®è· |
|------|---------------------|------------------------|-------------|------|
| **åŸºç¡€æ–‡ä»¶æ“ä½œ** | ğŸŸ¡ 60% | ğŸŸ¢ 85% | ğŸŸ¢ 95% | -10% |
| **ä»£ç ç¼–è¾‘èƒ½åŠ›** | ğŸ”´ 20% | ğŸŸ¢ 80% | ğŸŸ¢ 90% | -10% |
| **ä»£ç åº“æœç´¢** | ğŸ”´ 20% | ğŸŸ¢ 70% | ğŸŸ¢ 95% | -25% |
| **Checkpointing** | ğŸŸ¡ 40% | ğŸŸ¡ 40% | ğŸŸ¢ 95% | -55% |
| **Permission ç³»ç»Ÿ** | ğŸŸ¢ 70% | ğŸŸ¢ 70% | ğŸŸ¢ 90% | -20% |
| **Sub-Agent ç¼–æ’** | ğŸ”´ 10% | ğŸ”´ 10% | ğŸŸ¢ 85% | -75% |
| **Progress Tracking** | ğŸ”´ 0% | ğŸ”´ 0% | ğŸŸ¢ 90% | -90% |
| **MCP é›†æˆ** | ğŸ”´ 0% | ğŸ”´ 0% | ğŸŸ¢ 80% | -80% |
| **Git æ„ŸçŸ¥** | ğŸŸ¡ 30% | ğŸŸ¡ 30% | ğŸŸ¢ 85% | -55% |

**å®é™…æ€»ä½“æˆç†Ÿåº¦:**
- **æœªæ³¨å†Œå·¥å…·å‰:** ~35% vs Claude Code ğŸ”´
- **æ³¨å†Œå·¥å…·å:** ~55% vs Claude Code ğŸŸ¡
- **ç†æƒ³çŠ¶æ€ (Phase 2 å®Œæˆ):** ~70% vs Claude Code ğŸŸ¢

---

## ğŸ¯ é‡æ–°è¯„ä¼°çš„ä¼˜å…ˆçº§è·¯çº¿å›¾

### **Phase 1.2 - å·¥å…·æ³¨å†Œä¸é›†æˆ** (1-2 å¤©) ğŸ”¥ğŸ”¥ğŸ”¥

**ç«‹å³è¡ŒåŠ¨:**
1. âœ… åœ¨ `main.go` ä¸­æ³¨å†Œ `WriteFileTool`, `EditFileTool`
2. âœ… æ³¨å†Œ `GlobTool`, `GrepTool`
3. âœ… åœ¨ tool handlers ä¸­é›†æˆ Patch Engine
4. âœ… E2E æµ‹è¯•éªŒè¯
5. âœ… æ›´æ–° LLM system promptï¼ˆå‘ŠçŸ¥æ–°å·¥å…·ï¼‰

**æˆåŠŸæ ‡å‡†:** Agent å¯ä»¥å®é™…ä½¿ç”¨æ‰€æœ‰æ–°å·¥å…·

---

### **Phase 1.3 - Checkpointing & Rewind** (3-5 å¤©) ğŸ”¥ğŸ”¥

**ç›®æ ‡:** å®ç°ç”¨æˆ·å¯è§çš„å›æ»šèƒ½åŠ›

1. åœ¨ API ä¸­æš´éœ² checkpoint åˆ—è¡¨
2. å®ç° `/rewind <checkpoint_id>` å‘½ä»¤
3. æ”¯æŒåªå›æ»šä»£ç  / åªå›æ»šå¯¹è¯ / å…¨éƒ¨å›æ»š
4. CLI ä¸­æ·»åŠ  checkpoint ç®¡ç† UI

**æˆåŠŸæ ‡å‡†:** ç”¨æˆ·å¯ä»¥é€šè¿‡å‘½ä»¤å›æ»šåˆ°ä»»æ„å†å²çŠ¶æ€

---

### **Phase 1.4 - Plan Mode** (2-3 å¤©) ğŸ”¥

**ç›®æ ‡:** å®ç°åªè¯»åˆ†ææ¨¡å¼

1. æ·»åŠ  `EnterPlanMode` / `ExitPlanMode` tools
2. åœ¨ Permission system ä¸­æ”¯æŒæ¨¡å¼åˆ‡æ¢
3. Plan mode æ—¶ç¦ç”¨ Edit/Write/Bash
4. å®ç° plan approval workflow

---

### **Phase 2 - Sub-Agent System** (1 å‘¨) ğŸ”¥

1. å®ç° `Task` tool
2. åˆ›å»º Explore sub-agent (ä½¿ç”¨ Haiku)
3. Agent é€šä¿¡åè®®
4. æˆæœ¬ä¼˜åŒ–ç­–ç•¥

---

### **Phase 3 - Progress Tracking** (3-5 å¤©) ğŸŸ¡

1. å®ç° `TodoWrite` tool
2. Task çŠ¶æ€ç®¡ç†
3. CLI è¿›åº¦æ˜¾ç¤º

---

## ğŸ†• å…³é”®å‘ç°æ€»ç»“

1. **ä»£ç å·²å†™ï¼Œä½†æœªæ¿€æ´»** - æœ€å¤§çš„é—®é¢˜æ˜¯å·¥å…·æœªæ³¨å†Œ
2. **Checkpointing æ˜¯æŠ¤åŸæ²³** - Claude Code çš„æ ¸å¿ƒç«äº‰åŠ›
3. **Plan Mode æ˜¯å·¥ä½œæµåˆ›æ–°** - åˆ†æ â†’ æ‰¹å‡† â†’ æ‰§è¡Œ
4. **Sub-Agent æ˜¯æˆæœ¬ä¼˜åŒ–å…³é”®** - ä¸åŒä»»åŠ¡ç”¨ä¸åŒæ¨¡å‹
5. **Progress Tracking æ˜¯ UX æå‡** - è®©ç”¨æˆ·çœ‹åˆ°è®¡åˆ’å’Œè¿›åº¦

---

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨:** ç«‹å³æ³¨å†Œæ–°å·¥å…·å¹¶è¿›è¡Œ E2E æµ‹è¯•ï¼

**Claude Code èƒ½åŠ›:**
- Task delegation to specialized sub-agents
- Agent ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’
- å±‚çº§åŒ–ä»»åŠ¡ç®¡ç†
- å¹¶è¡Œä»»åŠ¡æ‰§è¡Œ

**gm-agent ç°çŠ¶:**
- ğŸŸ¡ `pkg/agent/` å­˜åœ¨ä½†å¤„äºæ—©æœŸé˜¶æ®µ
- âŒ æ²¡æœ‰ sub-agent è°ƒåº¦é€»è¾‘
- âŒ ç¼ºå°‘ agent-to-agent é€šä¿¡åè®®
- âŒ æ— æ³•åˆ†è§£å¤æ‚ä»»åŠ¡

**ä¸šåŠ¡å½±å“:**
- æ— æ³•å¤„ç†å¤æ‚çš„å¤šæ­¥éª¤ä»»åŠ¡
- ç¼ºä¹ä»»åŠ¡å¹¶è¡ŒåŒ–èƒ½åŠ›
- éš¾ä»¥æ‰©å±•åˆ°ä¼ä¸šçº§åœºæ™¯

**ä¼˜å…ˆçº§:** ğŸ”¥ **P1 - é‡è¦ä½†éç´§æ€¥**

---

### 4. ğŸ› ï¸ **å·¥å…·ç”Ÿæ€å¯¹æ¯”**

| å·¥å…· | Claude Code | gm-agent | ä¼˜å…ˆçº§ |
|------|-------------|----------|--------|
| `read_file` / `Read` | âœ… | âœ… | - |
| `write_file` / `Write` | âœ… | âŒ | P0 |
| `edit_file` / `Edit` | âœ… | âŒ | P0 |
| `run_shell` / `Bash` | âœ… | âœ… | - |
| `glob` / `Glob` | âœ… | âŒ | P0 |
| `grep` / `Grep` | âœ… | âŒ | P0 |
| `task` / `Task` | âœ… | âŒ | P1 |
| `talk` / `AskUserQuestion` | âœ… | âœ… | - |
| `task_complete` | - | âœ… | - |

**å…³é”®ç¼ºå¤±:**
1. âŒ æ–‡ä»¶å†™å…¥å·¥å…·
2. âŒ ä»£ç ç¼–è¾‘å·¥å…·
3. âŒ æœç´¢å·¥å…· (glob/grep)
4. âŒ ä»»åŠ¡å§”æ´¾å·¥å…·

---

### 5. ğŸ”’ **å®‰å…¨æ²™ç®±æœºåˆ¶**

**Claude Code æ ‡å‡†:**
- æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ç™½åå•
- ç½‘ç»œè®¿é—®æ§åˆ¶
- èµ„æºé…é¢ç®¡ç† (CPU/å†…å­˜/æ—¶é—´)
- å‘½ä»¤å‚æ•°éªŒè¯å’Œå‡€åŒ–

**gm-agent ç°çŠ¶:**
- âœ… Policy Gate (åŸºç¡€æƒé™æ§åˆ¶)
- âœ… å·¥å…·çº§åˆ«çš„ allow/ask/deny
- âš ï¸ Sandbox å®ç°è–„å¼±
- âŒ ç¼ºå°‘è·¯å¾„éå†é˜²æŠ¤
- âŒ ç¼ºå°‘èµ„æºé…é¢é™åˆ¶
- âŒ Shell å‘½ä»¤å‚æ•°æœªå……åˆ†éªŒè¯

**ä¸šåŠ¡å½±å“:**
- å­˜åœ¨å®‰å…¨é£é™© (è·¯å¾„éå†ã€å‘½ä»¤æ³¨å…¥)
- æ— æ³•åœ¨ç”Ÿäº§ç¯å¢ƒå®‰å…¨è¿è¡Œ
- ç¼ºå°‘èµ„æºæ»¥ç”¨é˜²æŠ¤

**ä¼˜å…ˆçº§:** ğŸ”¥ğŸ”¥ **P0 - ç”Ÿäº§ç¯å¢ƒå¿…å¤‡**

---

### 6. ğŸ¨ **ç”¨æˆ·ä½“éªŒ**

**Claude Code:**
- Rich terminal UI with syntax highlighting
- Code diff visualization
- Progress indicators and streaming
- äº¤äº’å¼ç¡®è®¤æµç¨‹
- é”™è¯¯æç¤ºå’Œå»ºè®®

**gm-agent:**
- âœ… Bubble Tea TUI (åŸºç¡€æ¡†æ¶)
- âœ… SSE æµå¼å“åº”
- âœ… æƒé™ç¡®è®¤ UI
- ğŸŸ¡ ç¼ºå°‘è¯­æ³•é«˜äº®
- ğŸŸ¡ ç¼ºå°‘ Diff å¯è§†åŒ–
- ğŸŸ¡ é”™è¯¯æç¤ºè¾ƒç®€é™‹

**ä¼˜å…ˆçº§:** ğŸ”¥ **P2 - é‡è¦ä½†å¯å»¶å**

---

### 7. ğŸ§ª **æµ‹è¯•å’Œè´¨é‡ä¿è¯**

**è¡Œä¸šæ ‡å‡†:**
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- é›†æˆæµ‹è¯•
- E2E æµ‹è¯•
- Race detection (`go test -race`)
- Golden file testing
- CI/CD pipeline

**gm-agent ç°çŠ¶:**
- ğŸŸ¡ æœ‰éƒ¨åˆ†å•å…ƒæµ‹è¯•
- âŒ é›†æˆæµ‹è¯•å·²åˆ é™¤ (è§ TASK.md)
- âŒ E2E æµ‹è¯•ç¼ºå¤±
- âŒ CI å°šæœªå®Œå–„
- âŒ æµ‹è¯•è¦†ç›–ç‡æœªçŸ¥

**ä¼˜å…ˆçº§:** ğŸ”¥ **P1 - è´¨é‡ä¿è¯å¿…éœ€**

---

## ğŸ“ˆ æˆç†Ÿåº¦å¯¹æ¯”çŸ©é˜µ

| ç»´åº¦ | gm-agent | Claude Code (ä¼°è®¡) | å·®è· |
|------|----------|---------------------|------|
| **è¿è¡Œæ—¶ç¨³å®šæ€§** | ğŸŸ¢ 80% | ğŸŸ¢ 95% | -15% |
| **LLM é›†æˆ** | ğŸŸ¢ 85% | ğŸŸ¢ 90% | -5% |
| **å·¥å…·ç³»ç»Ÿ** | ğŸŸ¡ 50% | ğŸŸ¢ 95% | -45% âš ï¸ |
| **ç¼–è¾‘èƒ½åŠ›** | ğŸ”´ 10% | ğŸŸ¢ 90% | -80% ğŸš¨ |
| **ä»£ç åº“ç†è§£** | ğŸŸ¡ 30% | ğŸŸ¢ 95% | -65% ğŸš¨ |
| **Sub-Agent** | ğŸ”´ 20% | ğŸŸ¢ 80% | -60% |
| **å®‰å…¨æ€§** | ğŸŸ¡ 60% | ğŸŸ¢ 90% | -30% âš ï¸ |
| **ç”¨æˆ·ä½“éªŒ** | ğŸŸ¡ 55% | ğŸŸ¢ 85% | -30% |
| **æµ‹è¯•è¦†ç›–** | ğŸŸ¡ 40% | ğŸŸ¢ 85% | -45% |

**æ€»ä½“è¯„ä¼°:**
- âœ… **ä¼˜åŠ¿:** æ ¸å¿ƒæ¶æ„æ‰å® (Event-Driven + Durable Runtime)
- âš ï¸ **å…³é”®å·®è·:** å·¥å…·ç”Ÿæ€ã€ä»£ç ç¼–è¾‘èƒ½åŠ›
- ğŸ¯ **æ€»ä½“æˆç†Ÿåº¦:** ~55% vs Claude Code

---

## ğŸš€ ä¼˜å…ˆçº§è·¯çº¿å›¾

### **Phase 1: MVP æ ¸å¿ƒèƒ½åŠ›** (P0 - ç«‹å³å¼€å§‹)

#### 1.1 Patch Engine (æœ€é«˜ä¼˜å…ˆçº§)
- [ ] Diff ç”Ÿæˆç®—æ³• (`pkg/patch/diff.go`)
- [ ] Patch åº”ç”¨é€»è¾‘ (`pkg/patch/apply.go`)
- [ ] å®‰å…¨å›æ»šæœºåˆ¶ (`pkg/patch/rollback.go`)
- [ ] æ·»åŠ  `write_file` å·¥å…·
- [ ] æ·»åŠ  `edit_file` å·¥å…·
- [ ] å•å…ƒæµ‹è¯• (è¦†ç›–ç‡ > 80%)

**æˆåŠŸæ ‡å‡†:** Agent å¯ä»¥ç²¾ç¡®ä¿®æ”¹ä»£ç æ–‡ä»¶å¹¶æ”¯æŒå›æ»š

#### 1.2 ä»£ç åº“æœç´¢å·¥å…·
- [ ] å®ç° `glob` å·¥å…· (æ”¯æŒ `**/*.go` ç­‰æ¨¡å¼)
- [ ] å®ç° `grep` å·¥å…· (æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼)
- [ ] æ·»åŠ æ–‡ä»¶å†…å®¹é¢„è§ˆ (å‰ N è¡Œ)
- [ ] ä¼˜åŒ–å¤§æ–‡ä»¶è¯»å–æ€§èƒ½

**æˆåŠŸæ ‡å‡†:** Agent å¯ä»¥è‡ªä¸»æ¢ç´¢å’Œç†è§£æœªçŸ¥ä»£ç åº“

#### 1.3 å®‰å…¨åŠ å›º
- [ ] æ–‡ä»¶è·¯å¾„ç™½åå•éªŒè¯
- [ ] é˜²æ­¢è·¯å¾„éå†æ”»å‡» (`../../` æ£€æµ‹)
- [ ] Shell å‘½ä»¤å‚æ•°å‡€åŒ–
- [ ] èµ„æºé…é¢ç®¡ç† (æ—¶é—´/å†…å­˜é™åˆ¶)
- [ ] å®‰å…¨å®¡è®¡æ—¥å¿—

**æˆåŠŸæ ‡å‡†:** å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒå®‰å…¨è¿è¡Œ

---

### **Phase 2: å¢å¼ºèƒ½åŠ›** (P1 - 1-2 å‘¨å†…)

#### 2.1 Sub-Agent ç³»ç»Ÿ
- [ ] å®šä¹‰ Agent Protocol (`docs/03-modules/agent.md`)
- [ ] å®ç°ä»»åŠ¡å§”æ´¾æœºåˆ¶
- [ ] Agent é—´æ¶ˆæ¯ä¼ é€’
- [ ] å¹¶è¡Œä»»åŠ¡æ‰§è¡Œ
- [ ] ä»»åŠ¡ä¾èµ–ç®¡ç†

#### 2.2 æµ‹è¯•è¦†ç›–
- [ ] æ¢å¤é›†æˆæµ‹è¯•
- [ ] æ·»åŠ  E2E æµ‹è¯•å¥—ä»¶
- [ ] é…ç½® GitHub Actions CI
- [ ] Race detection
- [ ] æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š (>80%)

#### 2.3 Tool ç”Ÿæ€æ‰©å±•
- [ ] `list_directory` (ç›®å½•åˆ—è¡¨)
- [ ] `file_info` (æ–‡ä»¶å…ƒä¿¡æ¯)
- [ ] `git_status` / `git_diff` (Git é›†æˆ)
- [ ] `web_search` (å¯é€‰)

---

### **Phase 3: é”¦ä¸Šæ·»èŠ±** (P2 - æœªæ¥è®¡åˆ’)

#### 3.1 UI å¢å¼º
- [ ] ä»£ç è¯­æ³•é«˜äº®
- [ ] Diff å¯è§†åŒ–
- [ ] æ›´å¥½çš„é”™è¯¯æç¤º
- [ ] è¿›åº¦æ¡å’ŒçŠ¶æ€æŒ‡ç¤º

#### 3.2 é«˜çº§åŠŸèƒ½
- [ ] Skill System
- [ ] Scheme è§£é‡Šå™¨
- [ ] Web UI
- [ ] Desktop å®¢æˆ·ç«¯

---

## ğŸ’¡ æ¶æ„ä¼˜åŠ¿ (ç›¸æ¯” Claude Code)

å°½ç®¡å­˜åœ¨å·®è·ï¼Œgm-agent åœ¨æŸäº›æ–¹é¢æœ‰ç‹¬ç‰¹ä¼˜åŠ¿:

### 1. **æ›´çµæ´»çš„éƒ¨ç½²æ¨¡å¼**
- âœ… ç‹¬ç«‹çš„ HTTP API (å¯ä»¥éƒ¨ç½²ä¸ºæœåŠ¡)
- âœ… å¤šå®¢æˆ·ç«¯æ”¯æŒ (CLI/Web/TUI/Desktop)
- âœ… Session éš”ç¦» (å¤šç”¨æˆ·æ”¯æŒ)

### 2. **æ›´å¼ºçš„å¯æ‰©å±•æ€§**
- âœ… æ¸…æ™°çš„æ¨¡å—è¾¹ç•Œ
- âœ… æ’ä»¶åŒ–çš„ Provider ç³»ç»Ÿ
- âœ… äº‹ä»¶æº¯æºæ¶æ„ (å¤©ç„¶æ”¯æŒå®¡è®¡å’Œå›æ”¾)

### 3. **æ›´å¥½çš„æŒä¹…åŒ–**
- âœ… äº‹ä»¶æ—¥å¿— + å¿«ç…§åŒé‡ä¿éšœ
- âœ… åŸå­å†™å…¥ (write-temp + rename)
- âœ… æ”¯æŒå¤šç§å­˜å‚¨åç«¯ (FS/SQLite/æœªæ¥çš„ Postgres)

---

## ğŸ¯ æ ¸å¿ƒå»ºè®®

### **ç«‹å³è¡ŒåŠ¨æ¸…å•**
1. âœ… åˆ›å»ºæœ¬æ–‡æ¡£ (å®Œæˆ)
2. ğŸ”¥ å®ç° Patch Engine (3-5 å¤©)
3. ğŸ”¥ æ·»åŠ  glob/grep å·¥å…· (2-3 å¤©)
4. ğŸ”¥ åŠ å›ºå®‰å…¨æ²™ç®± (2 å¤©)
5. ğŸ“Š æ¢å¤æµ‹è¯•è¦†ç›– (æŒç»­è¿›è¡Œ)

### **æˆåŠŸé‡Œç¨‹ç¢‘**
- **Milestone 1 (2 å‘¨):** Agent å¯ä»¥ç‹¬ç«‹å®Œæˆä»£ç ç¼–è¾‘ä»»åŠ¡
- **Milestone 2 (4 å‘¨):** è¾¾åˆ° Claude Code 70% çš„æ ¸å¿ƒèƒ½åŠ›
- **Milestone 3 (8 å‘¨):** ç”Ÿäº§ç¯å¢ƒå°±ç»ª (å®‰å…¨ + æµ‹è¯•)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2026-01-08**: åˆå§‹ç‰ˆæœ¬ï¼Œå®Œæˆå·®è·åˆ†æå’Œè·¯çº¿å›¾è§„åˆ’

---

**ä¿æŒåŠ¨åŠ›!** â˜•

è¿™ä¸ªæ–‡æ¡£å°†éšç€é¡¹ç›®è¿›å±•æŒç»­æ›´æ–°ã€‚æ¯å®Œæˆä¸€ä¸ª Milestoneï¼Œè®°å¾—å›æ¥æ‰“å‹¾ï¼
